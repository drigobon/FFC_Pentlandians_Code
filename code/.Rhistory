R.version()
R.Version()
library(Amelia)
library(data.table)
## Read stage 1 csv, Features List
#Data_All <- read.csv('background.csv',stringsAsFactors = TRUE)
Data_1 <- read.csv('../output/data_cleaned_stage1_withMissingCodes.csv',stringsAsFactors = TRUE)
Features_All <- read.csv('ffc_variable_types.csv')
library(Amelia)
library(data.table)
## Read stage 1 csv, Features List
#Data_All <- read.csv('background.csv',stringsAsFactors = TRUE)
Data_1 <- read.csv('../output/data_cleaned_stage1_withMissingCodes.csv',stringsAsFactors = TRUE)
Features_All <- read.csv('../data/ffc_variable_types.csv')
require(data.table)
## Read stage 2 csv, Features List
#Data_All <- read.csv('background.csv',stringsAsFactors = TRUE)
Data_2 <- read.csv('../data/data_cleaned_stage2.csv',stringsAsFactors = TRUE)
Features_2 <- read.csv('../data/features_cleaned_stage2.csv')
neg_val <- c(-1:-11,-14,-15,-101)
require(data.table)
## Read stage 2 csv, Features List
#Data_All <- read.csv('background.csv',stringsAsFactors = TRUE)
Data_2 <- read.csv('../output/data_cleaned_stage2.csv',stringsAsFactors = TRUE)
Features_2 <- read.csv('../output/features_cleaned_stage2.csv')
neg_val <- c(-1:-11,-14,-15,-101)
setwd("~/Desktop/code_all")
require(data.table)
## Read stage 2 csv, Features List
#Data_All <- read.csv('background.csv',stringsAsFactors = TRUE)
Data_2 <- read.csv('../output/data_cleaned_stage2.csv',stringsAsFactors = TRUE)
Features_2 <- read.csv('../output/features_cleaned_stage2.csv')
neg_val <- c(-1:-11,-14,-15,-101)
require(data.table)
## Read stage 2 csv, Features List
#Data_All <- read.csv('background.csv',stringsAsFactors = TRUE)
Data_2 <- read.csv('../output/data_cleaned_stage2.csv',stringsAsFactors = TRUE)
Features_2 <- read.csv('../output/features_cleaned_stage2.csv')
neg_val <- c(-1:-11,-14,-15,-101)
require(data.table)
## Read stage 2 csv, Features List
#Data_All <- read.csv('background.csv',stringsAsFactors = TRUE)
Data_2 <- read.csv('../output/data_cleaned_stage2.csv',stringsAsFactors = TRUE)
Features_2 <- read.csv('../output/features_cleaned_stage2.csv')
neg_val <- c(-1:-11,-14,-15,-101)
setwd("~/Desktop/code_all/code")
require(data.table)
## Read stage 2 csv, Features List
#Data_All <- read.csv('background.csv',stringsAsFactors = TRUE)
Data_2 <- read.csv('../output/data_cleaned_stage2.csv',stringsAsFactors = TRUE)
Features_2 <- read.csv('../output/features_cleaned_stage2.csv')
neg_val <- c(-1:-11,-14,-15,-101)
View(Data_2)
# Remove negative codes
for (n in neg_val){
Data_2[Data_2 == n] <- NA
}
Data_2<- Data_2[,-1]
View(Data_2)
## Impute with Means
Data_Mean <- Data_2
for (i in Features_2[which(Features_2$variable_type=='continuous'),]$variable){
Data_Mean[,i][which(!is.finite(Data_Mean[,i]))] <- mean(Data_Mean[,i],na.rm = T)
}
write.csv(Data_Mean, file = '../output/data_mean_imputed.csv',row.names = F)
source('~/Desktop/code_all/code/Data_Cleaning_Stage_3.R')
View(Data_Mean)
