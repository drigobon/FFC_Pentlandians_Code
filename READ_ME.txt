The code in this directory is used to replicate the Pentlandians’ submission to the Fragile Families Challenge. 

Package requirements can be found in ‘requirements.txt’ for Python, and ‘requirements_r.txt’ for R.

The single shell command ‘run_all.sh’ in the 'code' directory creates the necessary output directories, and subsequently runs our code in the proper order. The runtime for this replication tends to be very long without high-performance computers, although some of the files run relatively quickly. All outputs are in the ‘output’ directory, including the figures used for the manuscript.

For the 'run_all.sh' bash script to run properly, there must be a directory labeled 'data' at the same level as 'code', which contains:
- 'background.csv', the features given by the Challenge organizers
- 'ffc_variable_types.csv', metadata of the features provided on the fragile families challenge blog
- 'prediction.csv', baseline predictions for all 4242 observations
- 'train.csv', the desired outcomes for the training set available


Within the 'output' directory:
- 'final_pred' contains the final predictions made by individual methods and the aggregation of our predictions
- 'fig' contains all the figures used in the paper, and more
- 'LASSO' contains the features selected by the LASSO method (only for generating predictions)
- 'LASSO_ALL' contains the features selected by the LASSO method at various cutoffs of r^2
- 'MI' contains the features selected by the Mutual Information method at various cutoffs of K
- outside of these directories will be: the cleaned data files, feature importances for XGBoost, and optimal parameters for the elastic net and XGBoost.



Of Note:
- The ‘ResultsAnalysis’ file includes data that was collected from the challenge organizers regarding the holdout and leaderboard performance of several models. This data is not included in any .csv file and was manually input into this code file. 
- Furthermore, the information containing the selected regularization parameter and resulting r^2 value for the LassoRandomForest method can be found in the 'LassoRandomForest.html' file generated by the 'run_all.sh' script.



- Daniel E Rigobon, Eaman Jahani, Yoshihiko Suhara, Khaled AlGhoneim, Abdulaziz Alghunaim, Alex 'Sandy' Pentland, Abdullah Almaatouq




